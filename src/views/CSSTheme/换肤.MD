#【CssTheme】 CSS 主题切换

> CssTheme 主要是针对 CSS 主题切换这个功能点进行学习。
> 希望可以将 CSS 主题切换的多种方法一一尝试，并且总结。
> 并且找出最为方便的方式，将其总结制成，在未来的工作中
> 如果需要使用的话，可以快速应用并且实现效果

目前会根据现在的开发思想来选择几套方案，实现一个简单的案例，寻找一个最优解，或者某个场景下的最优解

---

## 1.【StaticChange】 CSS 主题切换 —— 静态切换

> 该文件主要针对的主题切换方案是——静态切换
> 静态切换解释：静态换肤通常是指应用提供了可选择的主题样式或者主题，用户基于已有的方案来做选择，一般是固定的几套，最常规的就是【白色】、【黑色】

### 1.1 第一种方案：利用 class 设置不同的命名空间

结论：不推荐
理由：

1. 如果 Dom 结构复杂，那最方便的考虑肯定是只切换最顶级的标签 Class，那么 Css 代码嵌套必然混乱
2. 因为是通过 class 进行切换，许多的 Css 代码也需要写在一起，如果是多人协作那么又会增加协同上的不便
3. 庞大的 CSS 嵌套代码带来是更高的维护成本，牵一而发全身。

### 1.2 第二种方案：CSS 文件切换

#### 1.2.1 使用【link】标签进行文件切换

> 文件路径：@/views/CSSTheme/StaticChange/FileChange

踩到的坑

1. 本地开发中，link 标签引入资源，无法正确识别 **@** 符号
2. 如果是通过生命周期，例如 **Mounted** 来创建 link，引入外部资源的形式，在页面跳转后返回当前页面时，有可能会导致资源失效
3. 每一次进入页面都会闪烁一下，因为需要加载好 CSS，即便加载时间是 1ms，这个情况也很明显（这是因为原本是没有默认样式的）
   3.1 但是这种情况，也有可能在切换 CSS 资源的时候出现，可能还需要找到对应的办法解决一下
4. 用一个变量保存 img 地址，然后进行动态绑定，但是 Vue3 中无法正常显示,[解决方案点这里](https://www.jianshu.com/p/edc7a4fff5f4)

### 1.3 第三种方案： CSS 变量切换
>文件路径：@/views/CSSTheme/StaticChange/VariableChange
>该文件是CSS变量基础版本，只具有参考性
#### 1.3.1 开发思路
1. 定义一个theme文件夹，里面存放主题CSS代码
2. 在css文件中写入CSS颜色变量，对html标签添加属性【data-theme】，方便后面换肤操作
3. 将CSS文件引入至【main.ts】文件中，使其称为全局CSS变量，方便我们的CSS代码可以在任何地方访问
4. 交互时，获取到html根节点DOM，然后替换【data-theme】的值


<!-- ---

## 2. CSS 主题切换 —— 动态切换

> 该文件主要针对的主题切换方案是——动态切换
> 解释：通过自定义色值，例如：取色板选择颜色、后台配置好后通过接口返回等等

同时，我们需要了解的新知识点：**动态换肤缓存**

- 利用路由进行标记；
- 利用缓存：cookie 标记、localstorage、native 缓存的方法等；
- 保存到后端服务器，接口获取； -->

---

## 3. 参考文献

- [标题：前端换肤方案介绍和使用|作者：58 本地服务终端技术|平台：掘金](https://juejin.cn/post/7143046677811691527)
- [标题：变换风格：前端换肤的完整指南|作者：前端小菜鸟吖|平台：掘金](https://juejin.cn/post/7315246744158355506)
- [标题：前端最全的 5 种换肤方案总结|作者：无名|平台：掘金](https://juejin.cn/post/7329573754987462693)
- [标题：前端换肤的 N 种方案，请收下|作者：令夕|平台：掘金](https://juejin.cn/post/6844904122643120141?)
- [标题：换肤都做过什么处理，有没有处理过可能改变尺寸的换肤|作者：作者|平台：掘金](https://juejin.cn/post/7063039097983467550?from=search-suggest#heading-3)
- [标题：基于 less 和 sass 的在 webpack 或 vite 中的动态主题的实现方案|作者：zgt\_不梦|平台：掘金](https://juejin.cn/post/6966173655470440456#heading-5)
